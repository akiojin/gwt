# SPEC-62c129ca: ブランチリストのマウスクリック動作改善

## 概要

ブランチリストでのマウスクリック動作を改善し、シングルクリックでブランチ選択（フォーカス移動）、ダブルクリックでウィザード起動という直感的な操作を実現する。

## 背景

現在の実装では、シングルクリックはダブルクリック判定のための記録のみを行い、視覚的なフィードバックがない。これはユーザーにとって直感的でなく、一般的なリストUIの挙動とも異なる。

## 要件

### FR-1: シングルクリック動作

- **FR-1.1**: ブランチ行をシングルクリックすると、そのブランチにフォーカスが移動する
- **FR-1.2**: フォーカス移動時、ブランチサマリーパネル（下部詳細情報）も更新される
- **FR-1.3**: シングルクリックの動作はキーボードの上下キー操作と同等である
- **FR-1.4**: 同じブランチを連続シングルクリックした場合（ダブルクリック判定外）、追加動作は行わない

### FR-2: ダブルクリック動作

- **FR-2.1**: ダブルクリックでウィザード起動（worktree作成画面）を行う
- **FR-2.2**: ダブルクリックの1回目クリックでもフォーカス移動を行う
- **FR-2.3**: ダブルクリック判定の時間ウィンドウは500msを維持する
- **FR-2.4**: 1回目と異なるブランチを2回目にクリックした場合、ダブルクリックとはみなさず単なるフォーカス移動とする

### FR-3: URLクリック動作

- **FR-3.1**: ブランチリスト内のURLをシングルクリックした場合、フォーカス移動のみ行う（URLは開かない）
- **FR-3.2**: URLをダブルクリックした場合、ブラウザでURLを開く

### FR-4: エッジケース

- **FR-4.1**: リスト外領域（ステータスバー、ヘッダー等）をクリックしても選択状態は維持する
- **FR-4.2**: リストの空白部分（ブランチがない行）をクリックした場合は無視する
- **FR-4.3**: スクロール中にクリックした場合、スクロールを即座に停止し選択処理を行う
- **FR-4.4**: ホイールスクロール後のクリックでフォーカスがジャンプすることを許容する
- **FR-4.5**: キーボードとマウスの入力が混在した場合、マウス操作を優先する

### NFR-1: 視覚フィードバック

- **NFR-1.1**: クリック時の一瞬のハイライト変化等の視覚フィードバックは不要

## 非スコープ

- クリック動作の設定による切り替え機能
- アニメーション効果
- ホバーハイライト表示

## 受け入れ基準

1. シングルクリックでブランチにフォーカスが移動すること
2. シングルクリックでサマリーパネルが更新されること
3. ダブルクリックでウィザードが起動すること
4. URLダブルクリックでブラウザが開くこと
5. URLシングルクリックではブラウザが開かないこと
6. 既存のキーボード操作に影響がないこと

## テスト計画

- 既存テスト `test_mouse_double_click_selects_branch_and_opens_wizard` を分割
  - シングルクリックテスト
  - ダブルクリックテスト
- URLクリックテストを追加
