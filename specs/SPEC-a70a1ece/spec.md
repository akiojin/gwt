# 機能仕様: bareリポジトリ対応とヘッダーブランチ表示

**仕様ID**: `SPEC-a70a1ece`
**作成日**: 2026-02-01
**ステータス**: ドラフト
**入力**: ユーザー説明: "bareリポジトリを基点としたworktree管理機能の追加。ヘッダーにブランチ名を表示し、リスト内の(current)ラベルを削除。空ディレクトリからのbare clone、worktree作成ウィザードを提供。既存の通常リポジトリ方式も完全サポート継続。"

## ユーザーシナリオとテスト *(必須)*

### ユーザーストーリー 1 - ヘッダーにブランチ名を表示 (優先度: P1)

開発者がgwtを起動すると、ヘッダーのWorking Directory行にブランチ名が角括弧`[]`で表示される。リスト内の`(current)`ラベルは削除され、ヘッダーのみで現在のコンテキストを示す。

**この優先度の理由**: UIの一貫性と視認性向上の基盤となる変更であり、他の機能に影響を与えない独立した実装が可能。ユーザーからの直接の要望。

**独立したテスト**: gwtを各種環境（通常リポジトリ、bareリポジトリ、worktree内）で起動してヘッダー表示を確認することで検証できる。

**受け入れシナリオ**:

1. **前提条件** 通常リポジトリのworktree内でgwtを起動、**操作** ヘッダーを確認、**期待結果** `Working Directory: /path/to/worktree [branch-name]` 形式で表示される
2. **前提条件** bareリポジトリ内でgwtを起動、**操作** ヘッダーを確認、**期待結果** `Working Directory: /path/to/repo.git [bare]` 形式で表示される
3. **前提条件** bare方式のworktree内でgwtを起動、**操作** ヘッダーを確認、**期待結果** `Working Directory: /path/to/worktree [branch-name] (repo.git)` 形式で表示される
4. **前提条件** 任意のリポジトリでgwtを起動、**操作** ブランチリストを確認、**期待結果** `(current)`ラベルが表示されない
5. **前提条件** gwt起動後にカーソルで別ブランチを選択、**操作** ヘッダーを確認、**期待結果** ヘッダーのブランチ名は変わらない（起動時のブランチが固定表示）

---

### ユーザーストーリー 2 - bareリポジトリの検出 (優先度: P1)

gwtがbareリポジトリ内で起動された場合、それを正しく検出し、適切なUIを表示する。既存の検出ロジックに追加する形で実装する。

**この優先度の理由**: bareリポジトリ対応の基盤となる検出機能であり、他のbare関連機能がこれに依存する。

**独立したテスト**: bareリポジトリ内でgwtを起動して正しく認識されることを確認できる。

**受け入れシナリオ**:

1. **前提条件** bareリポジトリ内でgwtを起動、**操作** 起動完了を待つ、**期待結果** bareリポジトリとして認識され、ブランチリストが表示される
2. **前提条件** 通常リポジトリ内でgwtを起動、**操作** 起動完了を待つ、**期待結果** 従来通りの動作（後方互換）
3. **前提条件** worktree内でgwtを起動、**操作** 起動完了を待つ、**期待結果** worktreeとして認識され、親bareリポジトリも検出される
4. **前提条件** bareリポジトリから起動、**操作** `is_current`状態を確認、**期待結果** currentブランチは存在しない（bareにはチェックアウトがないため）

---

### ユーザーストーリー 3 - 空ディレクトリでのbare clone (優先度: P1)

開発者が空のプロジェクトディレクトリでgwtを起動すると、リモートURLを入力してbare cloneを実行できるウィザードが表示される。CLIオプションでも同様の操作が可能。

**この優先度の理由**: bare推奨ワークフローの入口となる機能であり、新規プロジェクト開始時のUXを決定する。

**独立したテスト**: 空ディレクトリでgwtを起動してウィザードが表示されることを確認できる。

**受け入れシナリオ**:

1. **前提条件** 空のディレクトリでgwtを起動、**操作** 起動完了を待つ、**期待結果** URL入力ウィザードが表示される
2. **前提条件** ウィザードでURL入力後、**操作** clone種別を選択、**期待結果** フル/shallowの選択画面が表示される
3. **前提条件** shallowを選択してclone実行、**操作** 完了を待つ、**期待結果** `--depth=1`オプション付きでbare cloneが実行される
4. **前提条件** clone実行中、**操作** 画面を確認、**期待結果** スピナーと"Cloning repository..."メッセージが表示される
5. **前提条件** clone成功、**操作** 完了を待つ、**期待結果** ブランチ選択画面に遷移する
6. **前提条件** clone失敗（認証エラー等）、**操作** エラーを確認、**期待結果** エラーモーダルが表示され、リトライオプションがある
7. **前提条件** CLIで`gwt init <url>`を実行、**操作** 実行完了を待つ、**期待結果** TUIなしでshallow bare clone（--depth=1）が実行される

---

### ユーザーストーリー 4 - worktree作成ウィザード (優先度: P1)

bareリポジトリからworktreeが0件の状態でgwtを起動した場合、または新規worktree作成時に、既存のウィザードUIを踏襲した形でブランチを選択してworktreeを作成できる。

**この優先度の理由**: bareリポジトリからの実際の作業開始に必要な機能であり、clone機能と連携して動作する。

**独立したテスト**: bareリポジトリでworktreeを作成して正しく動作することを確認できる。

**受け入れシナリオ**:

1. **前提条件** bareリポジトリ内でworktreeが0件、**操作** gwtを起動、**期待結果** ブランチ選択画面が表示される
2. **前提条件** ブランチ選択画面でブランチを選択、**操作** Enterを押す、**期待結果** worktree作成が開始される
3. **前提条件** worktree作成完了、**操作** ファイルシステムを確認、**期待結果** bareと同階層にブランチ名のディレクトリが作成される
4. **前提条件** `feature/branch-name`のようなスラッシュを含むブランチ、**操作** worktreeを作成、**期待結果** `feature/branch-name/`のようなサブディレクトリ構造で作成される
5. **前提条件** worktree作成完了、**操作** シェルのカレントディレクトリを確認、**期待結果** 自動cdは行われない（元のディレクトリのまま）
6. **前提条件** worktree作成失敗、**操作** エラーを確認、**期待結果** エラーモーダルが表示される

---

### ユーザーストーリー 5 - ディレクトリ構造 (優先度: P1)

bare方式では、プロジェクトディレクトリ配下にbareリポジトリ（repo-name.git）とworktreeが同階層に配置される。設定ファイル（.gwt/）はプロジェクトルートに配置される。

**この優先度の理由**: ファイル構造の設計はすべての機能に影響するため、早期に確定が必要。

**独立したテスト**: worktreeを作成してディレクトリ構造を確認することで検証できる。

**受け入れシナリオ**:

1. **前提条件** `git@github.com:user/my-repo.git`をclone、**操作** 完了後にディレクトリを確認、**期待結果** プロジェクトディレクトリ直下に`my-repo.git/`が作成される
2. **前提条件** bareリポジトリからworktreeを作成、**操作** 完了後にディレクトリを確認、**期待結果** bareと同階層に`branch-name/`が作成される
3. **前提条件** プロジェクトディレクトリ内、**操作** `.gwt/`を確認、**期待結果** プロジェクトルート（bareの親）に`.gwt/`が配置される
4. **前提条件** 既存の`.worktrees/`方式のリポジトリ、**操作** gwtを起動、**期待結果** 従来通り認識・操作可能（後方互換）
5. **前提条件** 既存方式で新規worktreeを作成、**操作** 作成を実行、**期待結果** `.worktrees/`配下に作成される（従来動作維持）

---

### ユーザーストーリー 6 - submodule対応 (優先度: P2)

submoduleを含むリポジトリをclone/worktree作成した場合、自動的にsubmodule initとupdateが実行される。

**この優先度の理由**: 多くのプロジェクトで使用されるが、基本機能の後に実装可能。

**独立したテスト**: submoduleを含むリポジトリでworktreeを作成して確認できる。

**受け入れシナリオ**:

1. **前提条件** submoduleを含むリポジトリをbare clone、**操作** clone完了を待つ、**期待結果** submodule情報が取得される
2. **前提条件** submoduleを含むリポジトリでworktree作成、**操作** 完了を待つ、**期待結果** `git submodule init && git submodule update`が自動実行される
3. **前提条件** submodule初期化失敗、**操作** エラーを確認、**期待結果** 警告が表示されるが、worktree作成自体は成功する

---

### ユーザーストーリー 7 - 強制マイグレーション (優先度: P1)

**すべての通常リポジトリ**（`.worktrees/`の有無にかかわらず）でgwtを起動すると、bare方式への強制マイグレーションダイアログが表示される。マイグレーションを拒否するとgwtは終了し、以後使用できない。

**この優先度の理由**: 将来的なメンテナンス性向上と一貫性のため、全ユーザーをbare方式に統一する必要がある。

**独立したテスト**: 通常リポジトリでマイグレーションダイアログが表示され、正しく移行されることを確認できる。

**受け入れシナリオ**:

1. **前提条件** 通常リポジトリ（`.worktrees/`なし）でgwtを起動、**操作** 起動を待つ、**期待結果** マイグレーションダイアログが表示される
1a. **前提条件** 通常リポジトリ + `.worktrees/`構成でgwtを起動、**操作** 起動を待つ、**期待結果** マイグレーションダイアログが表示される
2. **前提条件** マイグレーションダイアログで「拒否」を選択、**操作** 選択を確定、**期待結果** gwtが終了し、エラーメッセージが表示される
3. **前提条件** マイグレーションダイアログで「続行」を選択、**操作** マイグレーション完了を待つ、**期待結果** bare方式に移行され、通常のブランチリストが表示される
4. **前提条件** マイグレーション実行中、**操作** 進捗を確認、**期待結果** 「バックアップ中...」「worktree作成中...」等のステップ別進捗が表示される
5. **前提条件** マイグレーション成功、**操作** ディレクトリ構造を確認、**期待結果** `{project}/` に `{repo}.git/`, `main/`, `develop/`, `feature/...` 等が同階層に配置される
6. **前提条件** マイグレーション失敗、**操作** 結果を確認、**期待結果** 自動でロールバックされ、元の状態に復元される

---

### ユーザーストーリー 8 - マイグレーション詳細動作 (優先度: P1)

マイグレーション処理は以下の詳細仕様に従って実行される：バックアップ必須、ファイル移動方式、git hooks完全コピー、submodules状態保持、shallow clone状態維持、gitignore対象除外、即時自動ロールバック。

**この優先度の理由**: マイグレーションの信頼性と安全性を担保するために詳細仕様が必要。

**独立したテスト**: 各条件（dirty worktree、git hooks存在、submodules存在等）でマイグレーションを実行して動作を確認できる。

**受け入れシナリオ**:

1. **前提条件** dirty worktree（未コミット変更あり）を含むリポジトリ、**操作** マイグレーション実行、**期待結果** ファイルがそのまま移動され、未コミット変更が保持される
2. **前提条件** clean worktree（変更なし）を含むリポジトリ、**操作** マイグレーション実行、**期待結果** re-clone方式で新規作成される
3. **前提条件** git hooks（pre-commit等）が存在するリポジトリ、**操作** マイグレーション完了後、**期待結果** hooksがbare側のworktrees配下に完全コピーされる
4. **前提条件** submodulesを含むworktree、**操作** マイグレーション完了後、**期待結果** submodulesディレクトリがそのまま移動され、.gitmodulesの参照が維持される
5. **前提条件** shallow cloneで取得したリポジトリ、**操作** マイグレーション実行、**期待結果** shallow状態が維持されたまま移行される
6. **前提条件** node_modules等のgitignore対象が存在、**操作** マイグレーション実行、**期待結果** gitignore対象は移行対象から除外される
7. **前提条件** 複数worktreeが存在、**操作** マイグレーション実行、**期待結果** 1つずつ順次処理される
8. **前提条件** マイグレーション中にエラー発生、**操作** エラー後の状態を確認、**期待結果** 即時自動ロールバックが実行され、元の状態に復元される
9. **前提条件** ネットワークエラー発生、**操作** リトライを確認、**期待結果** 最大3回まで自動リトライ後、失敗ならロールバック
10. **前提条件** ディスク容量不足、**操作** マイグレーション開始前、**期待結果** 必要容量を計算し、不足の場合はブロックされる

---

### ユーザーストーリー 9 - マイグレーション追加仕様 (優先度: P1)

マイグレーション処理の追加仕様：ファイルパーミッション完全保持、stash統合、バックアップ即時削除、簡潔な完了通知、設定ファイル配置、追跡関係完全維持。

**この優先度の理由**: マイグレーションの完全性と使いやすさを担保するために必要。

**独立したテスト**: 各条件でマイグレーション後の状態を確認できる。

**受け入れシナリオ**:

1. **前提条件** 実行権限（+x）を持つファイルが存在するworktree、**操作** マイグレーション完了後、**期待結果** ファイルパーミッションが完全に保持される
2. **前提条件** stashが存在するリポジトリ、**操作** マイグレーション完了後、**期待結果** stashがbareリポジトリに統合される
3. **前提条件** マイグレーション成功、**操作** 元の.worktrees/を確認、**期待結果** 即時削除されている
4. **前提条件** マイグレーション成功、**操作** 完了メッセージを確認、**期待結果** 「Migration completed successfully」程度の簡潔なメッセージのみ
5. **前提条件** マイグレーション成功、**操作** .gwt/config.jsonの場所を確認、**期待結果** プロジェクトルート（bareの親ディレクトリ）に配置される
6. **前提条件** bareリポジトリ名を確認、**操作** マイグレーション完了後、**期待結果** `{元のリポジトリ名}.git`形式で作成される
7. **前提条件** リモートトラッキング設定があるブランチ、**操作** マイグレーション完了後、**期待結果** トラッキング関係が完全に維持される
8. **前提条件** ローカル専用リポジトリ（リモートなし）、**操作** マイグレーション実行、**期待結果** ローカル変換（re-cloneではなくファイル移動）で処理される
9. **前提条件** locked worktreeが存在、**操作** マイグレーション開始、**期待結果** マイグレーションがブロックされ、unlock指示が表示される
10. **前提条件** .git/worktrees/配下のメタデータ、**操作** マイグレーション完了後、**期待結果** git worktree addが生成する新しいメタデータを使用

---

### エッジケース

- gitリポジトリでもbareリポジトリでもない空でないディレクトリでgwtを起動した場合、既存ファイルがあることを警告し、ユーザーが続行を選択した場合のみcloneウィザードを表示する
- 親ディレクトリへの書き込み権限がない場合、worktree作成はエラーとなる
- 既にworktreeが存在するブランチを選択した場合（TUI/CLI/API共通）、新規作成は行わず既存worktreeを返す（冪等）
- `git worktree add` が "already checked out at <path>" を返すが `<path>` が存在しない場合、staleなworktreeメタデータの可能性がある
  - 安全確認の上で `git worktree prune` を一度だけ実行し、再試行する
  - `git worktree prune --dry-run --verbose` の結果、現在実行中のworktreeメタデータが削除対象に含まれる場合は自動pruneを行わず、手動対応を促す
- ネットワーク接続がない状態でcloneを実行した場合、適切なエラーメッセージを表示する
- マイグレーション中にlocked worktreeが検出された場合、unlockを促すメッセージを表示してブロックする
- マイグレーション中にディスク容量が不足した場合、必要容量と空き容量を表示してブロックする
- **マイグレーション前のディスク容量チェック（`df`コマンド）が実行できない環境（Docker等）では、チェックをスキップしてマイグレーションを続行する**
- **マイグレーション前のロックされたworktreeチェックが実行できない環境では、チェックをスキップしてマイグレーションを続行する**
- **マイグレーション後のworktreeはすべて`git worktree add`で新規作成し、古い`.git`ファイルやメタデータは使用しない（US9-S10）**
- **元のリポジトリのメインブランチ（main/master等）もworktreeとして再作成する**
- **dirty worktreeの場合、ファイルを移動後に`git worktree add`でworktreeを再登録し、正しいgitdirパスを設定する**
- **マイグレーション後の構造は元のリポジトリディレクトリ内に配置する（FR-150準拠）:**
  ```text
  {project}/           <- 元のリポジトリディレクトリがプロジェクトルートになる
  ├── {repo-name}.git/ <- bareリポジトリ
  ├── main/            <- mainブランチのworktree
  ├── feature/test/    <- feature/testブランチのworktree
  └── .gwt/            <- gwt設定ディレクトリ
  ```
- マイグレーション中にネットワークエラーが発生した場合、最大3回リトライ後にロールバックする
- マイグレーション対象のworktreeにstashが存在する場合、bareリポジトリに統合する
- マイグレーション対象がローカル専用リポジトリ（リモートなし）の場合、re-cloneではなくローカル変換で処理する
- マイグレーション対象にgit hooksが存在する場合、新しいworktrees配下に完全コピーする
- マイグレーション対象にsubmodulesが存在する場合、ディレクトリをそのまま移動し.gitmodulesの参照を維持する
- マイグレーション対象がshallow cloneの場合、shallow状態を維持したまま移行する

## 要件 *(必須)*

### 機能要件

#### ヘッダー表示

- **FR-100**: ヘッダーのWorking Directory行にブランチ名を角括弧`[]`で追加表示**しなければならない**
- **FR-101**: bareリポジトリ内では`[bare]`と表示**しなければならない**
- **FR-102**: bare方式のworktree内では`[branch-name] (repo.git)`形式で表示**しなければならない**
- **FR-103**: 表示するブランチはgwt起動時のブランチ（固定）で**なければならない**

#### (current)ラベル削除

- **FR-110**: ブランチリストから`(current)`ラベルを削除**しなければならない**
- **FR-111**: すべてのケース（bare/通常/worktree）で削除**しなければならない**

#### bareリポジトリ検出

- **FR-120**: gitコマンドを使用してbareリポジトリを検出**しなければならない**
- **FR-121**: bare検出時は専用のUIモードで表示**しなければならない**
- **FR-122**: 既存の検出ロジックに追加する形で実装**しなければならない**
- **FR-123**: bareリポジトリから起動時はcurrentブランチなしとして扱わ**なければならない**
- **FR-124**: bareリポジトリのリモートブランチ取得には`git ls-remote`を使用**しなければならない**（`refs/remotes/`が存在しないため）
- **FR-125**: シングルモードでエージェント終了後にTUIを再起動する際、`repo_root`を`TuiEntryContext`で渡し、正しいbareリポジトリパスで再初期化**しなければならない**
- **FR-126**: bareリポジトリの親ディレクトリからgwtを起動した場合、子ディレクトリに`*.git`のbareリポジトリがあれば自動検出して使用**しなければならない**

#### 空ディレクトリ検出とウィザード

- **FR-130**: gitリポジトリでないディレクトリでの起動を検出**しなければならない**
- **FR-131**: URL入力ウィザードを表示**しなければならない**
- **FR-132**: CLIオプション`gwt init <url>`もサポート**しなければならない**
- **FR-133**: TUIウィザードではclone種別（フル/shallow）を選択可能に**しなければならない**
- **FR-134**: CLIの`gwt init <url>`はデフォルトでshallow clone（--depth=1）を実行**しなければならない**

#### bare clone実行

- **FR-140**: `git clone --bare`を実行**しなければならない**
- **FR-141**: shallow cloneの場合は`--depth=1`を追加**しなければならない**
- **FR-142**: clone中はスピナーを表示**しなければならない**
- **FR-143**: 認証はgitに委譲**しなければならない**

#### ディレクトリ構造

- **FR-150**: bareリポジトリは`{repo-name}.git`としてプロジェクトディレクトリ直下に配置**しなければならない**
- **FR-151**: worktreeはbareと同階層に`{branch-name}`として配置**しなければならない**
- **FR-152**: スラッシュを含むブランチ名はサブディレクトリ構造として作成**しなければならない**
- **FR-153**: `.gwt/`はプロジェクトルート（bareの親）に配置**しなければならない**

#### worktree作成

- **FR-160**: `git worktree add`でworktreeを作成**しなければならない**
- **FR-161**: bare方式ではbareと同階層に作成**しなければならない**
- **FR-162**: 作成後、シェルの自動cdは行わ**ないこと**
- **FR-163**: submoduleがある場合は自動的に初期化**しなければならない**
- **FR-164**: リモートブランチが存在する場合は自動的にトラッキング設定を行わ**なければならない**

#### ブランチリスト表示（bareリポジトリ）

- **FR-170**: bareリポジトリでは、Localタブにworktreeが存在するブランチのみを表示**しなければならない**
- **FR-171**: bareリポジトリでは、Remoteタブにworktreeがまだ作成されていないブランチを表示**しなければならない**
- **FR-172**: worktreeの存在確認は`git worktree list`の結果に基づいて判定**しなければならない**

#### 強制マイグレーション

- **FR-200**: 通常リポジトリ（`.worktrees/`の有無にかかわらず）で起動時にマイグレーションダイアログを表示**しなければならない**
- **FR-201**: マイグレーション拒否時はgwtを終了**しなければならない**
- **FR-202**: マイグレーション前にバックアップを作成**しなければならない**
- **FR-203**: dirty worktreeはファイル移動方式で移行**しなければならない**
- **FR-204**: clean worktreeはre-clone方式で新規作成**しなければならない**
- **FR-205**: git hooks（pre-commit等）を完全コピー**しなければならない**
- **FR-206**: submodulesディレクトリをそのまま移動し状態を保持**しなければならない**
- **FR-207**: shallow clone状態を維持したまま移行**しなければならない**
- **FR-208**: .gitignore対象ファイルは移行対象から除外**しなければならない**
- **FR-209**: 複数worktreeは1つずつ順次処理**しなければならない**
- **FR-210**: エラー発生時は即時自動ロールバック**しなければならない**
- **FR-211**: ネットワークエラー時は最大3回リトライ**しなければならない**
- **FR-212**: マイグレーション前にディスク空き容量をチェック**しなければならない**
- **FR-213**: 容量不足の場合はマイグレーションをブロック**しなければならない**
- **FR-214**: ファイルパーミッションを完全保持**しなければならない**
- **FR-215**: stashをbareリポジトリに統合**しなければならない**
- **FR-216**: マイグレーション成功後、元の.worktrees/を即時削除**しなければならない**
- **FR-217**: 完了メッセージは簡潔に表示**しなければならない**
- **FR-218**: bareリポジトリ名は`{元のリポジトリ名}.git`形式**しなければならない**
- **FR-219**: .gwt/config.jsonはプロジェクトルート（bareの親）に配置**しなければならない**
- **FR-220**: リモートトラッキング関係を完全維持**しなければならない**
- **FR-221**: ローカル専用リポジトリはローカル変換で処理**しなければならない**
- **FR-222**: locked worktreeが存在する場合はマイグレーションをブロック**しなければならない**
- **FR-223**: .git/worktrees/のメタデータはgit worktree addに委譲**しなければならない**
- **FR-224**: マイグレーション中はステップ別詳細進捗を表示**しなければならない**

#### エラーハンドリング

- **FR-180**: clone/worktree作成失敗時はモーダルでエラー表示**しなければならない**
- **FR-181**: リトライオプションを提供**しなければならない**
- **FR-182**: gitコマンドのエラーメッセージを表示**しなければならない**

### 主要エンティティ

- **RepoType**: リポジトリの種類（Normal, Bare, Worktree, Empty）
- **WorktreeLocation**: worktreeの配置方式（Subdir: `.worktrees/`配下, Sibling: bare同階層）
- **CloneConfig**: clone設定（URL, shallow有無, depth）

## 成功基準 *(必須)*

### 測定可能な成果

- **SC-001**: 既存のgwtユーザーが変更なく引き続き使用できる（後方互換性100%）
- **SC-002**: 空ディレクトリからbare clone → worktree作成 → 作業開始までのフローが5ステップ以内で完了できる
- **SC-003**: ヘッダーを見れば現在のコンテキスト（ブランチ/bare状態）が即座に把握できる
- **SC-004**: すべての受け入れシナリオのテストがパスする

## 制約と仮定 *(該当する場合)*

### 制約

- 既存のgwt-core/gwt-cliモジュール分担に従う
- gitコマンドを使用する（libgit2等のライブラリは使用しない）
- 認証はgit/OSに委譲する（gwt独自の認証管理は行わない）

### 仮定

- ユーザーのシステムにgitがインストールされている
- ユーザーにプロジェクトディレクトリへの書き込み権限がある
- ネットワーク接続がある状態でcloneを実行する

## 範囲外 *(必須)*

次の項目は、この機能の範囲外です：

- worktree作成後の自動cd機能
- bare → 通常リポジトリへの変換ツール
- 複数リモートの管理
- GUI/Web UI
- gwt独自の認証情報管理
- git credential helperとの連携

## セキュリティとプライバシーの考慮事項 *(該当する場合)*

- リモートURLに認証情報（パスワード等）が含まれる場合、ログや画面に表示しない
- cloneしたリポジトリの権限はシステムのデフォルトに従う

## 依存関係 *(該当する場合)*

- git（システムにインストール済み）
- 既存のgwt-core worktree管理機能
- 既存のgwt-cli ウィザードUI

## 参考資料 *(該当する場合)*

- [git worktree ドキュメント](https://git-scm.com/docs/git-worktree)
- [git clone --bare ドキュメント](https://git-scm.com/docs/git-clone)
