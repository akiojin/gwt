# 要件品質チェックリスト: bareリポジトリ対応とヘッダーブランチ表示

**目的**: 仕様の完全性、テスト可能性、一貫性を検証する
**作成日**: 2026-02-01
**機能**: [spec.md](../spec.md)

## ユーザーストーリーの品質

- [ ] CHK001 すべてのユーザーストーリーが独立してテスト可能である
- [ ] CHK002 すべてのユーザーストーリーに優先度（P1/P2/P3）が割り当てられている
- [ ] CHK003 受け入れシナリオが「前提条件/操作/期待結果」形式で記述されている
- [ ] CHK004 P1ストーリーだけでMVPとして価値を提供できる
- [ ] CHK005 ストーリー間の依存関係が明確である

## 機能要件の品質

- [ ] CHK006 すべての要件に一意のID（FR-XXX）が割り当てられている
- [ ] CHK007 要件が「しなければならない」形式で記述されている
- [ ] CHK008 要件が実装手段（言語/フレームワーク等）に依存していない
- [ ] CHK009 要件が測定可能または観測可能な結果を持つ
- [ ] CHK010 曖昧な表現（「適切に」「効率的に」等）が排除されている

## ヘッダー表示要件

- [ ] CHK011 FR-100〜FR-103で全てのケースのフォーマットが定義されている
- [ ] CHK012 bareリポジトリ、通常リポジトリ、worktreeの各ケースの表示が明確
- [ ] CHK013 `(current)`ラベル削除の影響範囲が明確

## bareリポジトリ対応要件

- [ ] CHK014 bare検出のロジックが明確に定義されている
- [ ] CHK015 空ディレクトリでのウィザードフローが完全に記述されている
- [ ] CHK016 ディレクトリ構造の命名規則が明確
- [ ] CHK017 スラッシュを含むブランチ名の扱いが定義されている

## 後方互換性要件

- [ ] CHK018 既存の`.worktrees/`方式のサポート継続が明記されている
- [ ] CHK019 既存ユーザーへの影響が最小化されている
- [ ] CHK020 破壊的変更がないことが確認できる

## エッジケースとエラー処理

- [ ] CHK021 clone失敗時の動作が定義されている
- [ ] CHK022 worktree作成失敗時の動作が定義されている
- [ ] CHK023 ネットワークエラー時の動作が考慮されている
- [ ] CHK024 権限エラー時の動作が考慮されている

## 成功基準

- [ ] CHK025 成功基準が測定可能である
- [ ] CHK026 成功基準がユーザー価値に紐づいている

## 範囲の明確さ

- [ ] CHK027 範囲外の項目が明確に定義されている
- [ ] CHK028 依存関係が特定されている
- [ ] CHK029 制約と仮定が文書化されている

## 注記

- 完了した項目にチェックマーク: `[x]`
- インラインでコメントや調査結果を追加
- 関連リソースまたはドキュメントへのリンク
