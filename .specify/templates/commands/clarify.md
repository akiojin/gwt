---
description: 最大5つの質問で仕様の曖昧さを解消し、spec.md に反映します。
---

## ユーザー入力

```text
$ARGUMENTS
```

追加の指示があれば必ず反映します。

## 手順概要

1. **対象SPEC IDの決定（必須）**:
   - ユーザー入力に `SPEC-[a-f0-9]{8}` が含まれる場合、それを対象SPEC IDとします。
   - 含まれない場合は `specs/specs.md` を提示し、ユーザーに対象SPEC IDを選んでもらってください（このコマンドはそこで停止）。

2. **パス取得（JSON）**:
   - リポジトリルートで以下を 1 回だけ実行し、`FEATURE_SPEC`（spec.md）などのパスを取得します。
     - `.specify/scripts/bash/check-prerequisites.sh --json --paths-only --spec-id <SPEC_ID>`

3. **仕様のスキャン**:
   - `spec.md` を読み、以下の観点で曖昧さ/欠落を検出します。
     - スコープ（範囲内/範囲外）
     - ユーザーストーリーと受け入れ条件
     - 要件のテスト可能性（観測可能な入力・条件・期待結果）
     - 非機能（性能/セキュリティ/運用）
     - 依存関係と制約
   - `【要確認: ...】` がある場合は最優先で解消対象にします。

4. **質問（最大5つ）**:
   - 影響度が高いものから最大5問に絞り、**1問ずつ**質問します。
   - 可能な限り 2〜5 個の選択肢（A〜E）で回答できる形にします。

5. **spec.md へ反映**:
   - 得られた回答を `spec.md` に追記/反映し、`【要確認】` を解消します。

## 出力

- 解消した項目の一覧
- 残っている `【要確認】`（あれば）
- 次の推奨ステップ（通常は `/speckit.plan`）
